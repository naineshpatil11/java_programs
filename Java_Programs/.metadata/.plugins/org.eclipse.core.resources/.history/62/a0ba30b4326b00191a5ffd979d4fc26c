package com.controller;

import java.io.IOException;
import java.io.PrintWriter;

import javax.servlet.ServletException;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;

import com.dao.BaseDaoImpl;
import com.model.Users;

public class Registration extends HttpServlet
{
	protected void doPost(HttpServletRequest request,HttpServletResponse response) throws IOException, ServletException   
	{
		PrintWriter out = response.getWriter();
		response.setContentType("text/jsp");
		String uname = request.getParameter("username");
		String psw =  request.getParameter("password");
		String fname = request.getParameter("firstName");
		String lname = request.getParameter("lastName");
		String dob = request.getParameter("dob");
		String pno = request.getParameter("phoneNo");
		String email = request.getParameter("email");
		
		Users users = new Users();
		
		users.getUsername();
		users.getPassword();
		users.getFirstName();
		users.getLastName();
		users.getDob();
		users.getPhoneNum();
		users.getEmail();
		
		System.out.println(users.toString());
		BaseDaoImpl.regCustomer(users);
		if(request.getParameter("password").equals(request.getParameter("cpword")))
		{
			System.out.println("Registration successfull");
			request.getRequestDispatcher("login.jsp").include(request, response);
		}
		else
		{
			System.out.println("Enter valid password and conform password");
			request.getRequestDispatcher("registration.jsp").include(request, response);
		}
		
	}
}
